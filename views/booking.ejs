<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Hotel</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">


    <!-- ========================= CSS here ========================= -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/LineIcons.2.0.css" />
    <link rel="stylesheet" href="/css/animate.css" />
    <link rel="stylesheet" href="/css/tiny-slider.css" />
    <link rel="stylesheet" href="/css/glightbox.min.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>



</head>

<body style="background-color: #FF6B81;">
    <div class="columns" style="margin-top: 200px;" id="Booking">
        <div class="column"></div>
        <div class="box column is-three-fifths" style="margin-top: 20px; padding: 50px; font-size: 15px">
            <form :action="'/booking/' + user + ' ' + roomId + ' ' + prices" method="POST">

                <div class="columns">
                    <div class="column is-three">
                        <label for="">Check in</label>
                        <div>
                            <input type="date" class="input is-small" style="width: 230px; margin-top: 10px"
                                v-model="checkIn" name="checkIn" id="checkIn" />
                        </div>
                    </div>
                    <div class="column">
                        <label for="">Check out</label>
                        <div>
                            <input type="date" class="input is-small" style="width: 230px; margin-top: 10px"
                                v-model="checkOut" name="checkOut" id="checkOut"/>
                        </div>
                    </div>
                    <div class="column">
                        <label for="">Name</label>
                        <div>
                            <input type="text" class="input is-small" style="margin-top: 10px; width: 230px"
                                placeholder="Puttonpong" v-model="fname" name="fname"/>
                        </div>
                    </div>
                </div>
                <div class="columns">
                    <div class="column is-three">
                        <label for="">Type room</label>
                        <div>
                            <div class="select is-small" style="margin-top: 10px">
                                <select style="width: 230px">
                                    <option>
                                        {{ rooms[0].room_type }}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <label for="">Service</label>
                        <div>
                            <!-- <div class="is-small" style="margin-top: 10px">
                                <input type="int" value="1" class="input is-small">
                            </div> -->
                            <div class="select is-small" style="margin-top: 10px">
                                <select style="width: 230px">
                                   <option >
                                    {{ rooms[0].room_service }}
                                   </option>

                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <label for="">Price</label>
                      <div>
                          <div class="select is-small" style="margin-top: 10px">
                              <select style="width: 230px">
                                 <option >
                                  {{ rooms[0].price }}
                                 </option>

                              </select>
                          </div>
                      </div>
                        <!-- <input v-model="price" class="mt-3" /> -->
                    </div>
                </div>
            <div class="columns">
                <div class="column is-three">
                </div>
                <div class="column">
                </div>

                <div class="column"></div>
            </div>
            <div class="columns">
                <div class="column"></div>
                <div class="column"></div>
                <div class="column"></div>
                <div class="column">
                    <p style="color: #D8000C;background-color: #FFBABA; padding: 10px; text-align: center; border-radius: 10px;" v-if="msg != ''">{{msg}}</p>
                </div>
                <div class="column">
                    <a><button  type="submit" class="button has-background-danger is-normal is-rounded" >Next</button></a>
                </div>
            </div>
        </form>
    </div>

    <div class="column"></div>

</div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
    $(function(){
        var dtToday = new Date();
        var month = dtToday.getMonth() + 1;
        var day = dtToday.getDate();
        // var day2 = dtToday.getDate() + 1;
        var year = dtToday.getFullYear();
        if(month < 10)
            month = '0' + month.toString();
        if(day < 10)
        day = '0' + day.toString();
        // if(day2 < 10)
        // day2 = '0' + day2.toString();
        var maxDate = year + '-' + month + '-' + day;
        // var maxDate2 = year + '-' + month + '-' + day2;
        $('#checkIn').attr('min', maxDate);
        $('#checkOut').attr('min', maxDate);
    });

         var app = new Vue({
            el: '#booking',
            data :{
                  rooms : JSON.parse('<%- rooms %>'),
                  roomId : JSON.parse('<%- rooms %>')[0].room_id,
                  msg : JSON.parse('<%- msg %>'),
                  checkType : '',
                  checkService: '',
                  fname : '',
                  checkIn : '',
                  checkOut : '',
                  prices : JSON.parse('<%- rooms %>')[0].price,
                  user : JSON.parse(localStorage.getItem('user'))[0].id
            },

        })
    </script>




</body>

</html>